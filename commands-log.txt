# سجل أوامر مشروع Andro.Backend.Reference
## التاريخ: 28 يناير 2026

### 1. تحديث ABP CLI
```powershell
dotnet tool update -g Volo.Abp.Studio.Cli
```

### 2. إنشاء المشروع
```powershell
abp new Andro.Backend.Reference -t app --ui none --database-provider ef --database-management-system sqlserver
```
**النتيجة:** ✅ تم إنشاء المشروع بنجاح

### 3. تشغيل DbMigrator لإنشاء قاعدة البيانات
```powershell
cd "src/Andro.Backend.Reference.DbMigrator"
dotnet run
```
**الوصف:** يقوم بإنشاء قاعدة البيانات وتطبيق جميع الـ Migrations وإضافة البيانات الأولية (Admin User)
**النتيجة:** ✅ تم إنشاء قاعدة البيانات بنجاح
- قاعدة البيانات: `Reference`
- المستخدم الافتراضي: `admin / 1q2w3E*`

### 4. تشغيل المشروع (Web Application)
```powershell
cd "src/Andro.Backend.Reference.Web"
dotnet run
```
**الوصف:** يقوم بتشغيل التطبيق على HTTPS
**النتيجة:** ✅ المشروع يعمل بنجاح
- الرابط الرئيسي: `https://localhost:44309`
- Swagger UI: `https://localhost:44309/swagger`
- Health Check: `https://localhost:44309/health-status`

### 5. إنشاء Postman Collection
**الملفات المُنشأة:**
- `Andro.Backend.Reference.postman_collection.json` - Collection كامل لكل APIs
- `Andro.Backend.Reference.postman_environment.json` - Environment للمتغيرات
- `postman-guide.md` - دليل شامل للاستخدام

**المحتويات:**
- Authentication APIs (Login, Logout, Register)
- User Profile APIs
- Application Configuration
- Identity Management (Users & Roles)
- Tenant Management
- Health Check
- مكان جاهز لـ Products APIs (سيتم إضافتها في المرحلة 2)

**الاستخدام:**
1. استورد الملفين في Postman
2. فعل Environment
3. سجل دخول → Token يحفظ تلقائياً
4. اختبر أي API

**النتيجة:** ✅ Postman Collection جاهز للاستخدام

### 6. تصحيح وإعادة بناء المشروع
```powershell
# إيقاف المشروع القديم
taskkill /F /PID 34988

# تنظيف المشروع
dotnet clean

# بناء المشروع
dotnet build

# تشغيل المشروع
cd "src/Andro.Backend.Reference.Web"
dotnet run
```
**النتيجة:** ✅ المشروع يعمل بدون مشاكل

### 7. تصحيح Login في Postman Collection
**المشكلة:** `/api/account/login` لا يرجع `access_token`

**الحل:** استخدام OAuth2 Token endpoint الصحيح
- Endpoint: `/connect/token`
- Method: POST (x-www-form-urlencoded)
- Parameters:
  - grant_type: password
  - client_id: Reference_App
  - username: admin
  - password: 1q2w3E*
  - scope: offline_access Reference

**النتيجة:** ✅ يرجع JWT Token صحيح

---
